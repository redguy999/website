<html>
	<head>
		<title>basic grid tester</title>
		<style>
			#movementGrid{
				display:grid;
				/*grid-template-columns: auto auto auto auto auto; moved to JS*/
				max-width:100vw;
				width:99vw;
				max-height:100vh;
				height: 98vh;
			}
			#movementGrid>div{
				width:90%;
				height:90%;
				border:1px solid black;
				display: flex;
				justify-content: center;
				align-items: center;
			}
		</style>
	</head>
	<body onload="startGame()">
		<div id="movementGrid">

		</div>
	</body>
	<script>
		const Mogrid = document.getElementById("movementGrid"); //shouldn't change
		var invals = []; //would declare a constant, but we need to be able to easily clear it at times.
		var start = "" //can be either a string or a number, but must contain 2 digits.
		var exit = "" //same as start
		var player = ""//same as start
		let wT = 7//number of columns of tiles
		let hT = 7//number of rows of tiles.
		const inventory = {

		}//might need to be cleared at times, but shouldn't need completely overhauled very often.
		const stats = {

		}//shouldn't need to be cleared
		function startGame(){
			makeGrid();
			mkNotPositions();
			mkSnEPoints()
		}
		function makeGrid(){
			let temp="";//
			for(i=0;i<wT;i++){
				temp =  temp +"auto ";
			}
			console.log(temp);
			document.getElementById("movementGrid").style.gridTemplateColumns = temp;
			for(i=1;i<=wT;i++){//row one already exists, no need to make the first row again
				for(t=1;t<=hT;t++){//'t' is columns, 'i' is rows
					Mogrid.innerHTML = Mogrid.innerHTML + ('<div id="'+i+t+'"></div>')
				}
			}
		}
		function mkNotPositions(){
			//gives an array of corrdinates, the corrdinates are corrdinates of which movement to should be inpossible.
			//corrdinate format is the same as the ids for the grid tiles.
			let maxInvals = 25; //max number of invalid tiles
			invalPositions = [];//need to clear it.
			for(let i=0;i<maxInvals;i++){
				invals[i]=getCorrdInGrid();
			}
			let temp = new Set(invals);
			invals = [...temp];//this little mess is for removing repeating corrdinates.
			for(let i=0;i<invals.length;i++){
				document.getElementById(invals[i]).style.backgroundColor = "black";
			}
		}
		function getCorrdInGrid(){//gets you a string that is a corrdinate on the grid.
			let temp = Math.floor(Math.random()*wT)+1;
			let temp2 = Math.floor(Math.random()*hT)+1;
			return String(temp)+String(temp2);
		}
		function mkSnEPoints(){
			//first, make start
			while(true==true){//browsers might not like this
			let temp = getCorrdInGrid();
			if(CVM(temp)==true){
				start=temp;
				break;//this exits the while loop
			}
			}//while end
			console.log(start)
			document.getElementById(start).style.backgroundColor = "lightgreen";
			//start point has been made	
			while(true==true){
				let temp=getCorrdInGrid();
				if(CVM(temp)){
					if(adjStart(temp)){//made this a function so its less difficult to read this part.
						exit=temp;
						break;
					}
				}
			}
			console.log(exit)
			document.getElementById(exit).style.backgroundColor = "red";
		}
		function adjStart(corrd){//checks if corrd is adjecent to the start
			let attcorrd = corrd.split("");//will need to be changed to accomadate for several digits.
			attcorrd[0]=Number(attcorrd[0]);
			attcorrd[1]=Number(attcorrd[1]);//need to make sure these are numebrs.
			for(let i=-1;i<=1;i++){
				for(let t=-1;t<=1;t++){
					let temp2 = [attcorrd[0]+i,attcorrd[1]+t];
					temp2=Number(temp2[0])+Number(temp2[1]);
					if(temp2==start){
						return false;
					}
				}
			}
			return true;//is not adjecent
		}
		function CVM(corrd){//CVM: check valid move. checks if corrd is a string.
			if(typeof(corrd)!="string"){
				console.log("ERROR: parameter corrd is invalid type");
				return;
			}
			for(i=0;i<invals.length;i++){
				if(invals[i]==corrd){
					return false;//move is invalid.
				}
			}
			return true;//move is valid.
		}
	</script>

	<script>

	</script>
</html>
